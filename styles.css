/* Base */
:root {
  --bg: #0b0d12;
  --panel: #11141a; --panel-2: #171b22; --text:#e7ecf3; --muted:#a8b0bf;
  --brand:#e11d48; --brand-2:#9333ea; --accent:#38bdf8; --border:#232a35; --success:#22c55e; --warning:#f59e0b;
  --gradient-bg: radial-gradient(circle at 25% 15%, rgba(225,29,72,.18), transparent 60%), radial-gradient(circle at 85% 65%, rgba(147,51,234,.18), transparent 70%), linear-gradient(180deg,#0b0d12,#0d1016 80%);
  --panel-gradient: linear-gradient(145deg,#141923,#0f1218 60%);
  --panel-border-active: color-mix(in srgb,var(--brand) 55%,#232a35 45%);
  --shadow-card: 0 4px 18px -6px rgba(0,0,0,.55), 0 0 0 1px #232a35;
  --shadow-card-hover: 0 6px 26px -4px rgba(0,0,0,.7), 0 0 0 1px var(--panel-border-active);
}
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  background: var(--gradient-bg);
  color: var(--text);
}
.container { width: min(1100px, 92%); margin: 0 auto; }

/* Header */
.site-header {
  position: sticky; top: 0; z-index: 10;
  backdrop-filter: blur(12px);
  background: linear-gradient(135deg,rgba(14,16,22,.94),rgba(18,20,28,.82));
  border-bottom: 1px solid rgba(147,51,234,.35);
  box-shadow: 0 4px 18px -8px rgba(0,0,0,.7);
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 16px;
}
.site-header:after { content:""; position:absolute; left:0; right:0; bottom:0; height:2px; background:linear-gradient(90deg,var(--brand),var(--brand-2),var(--accent)); opacity:.6; pointer-events:none; }
.brand { display: flex; align-items: center; gap: 12px; }
.logo-mark { position:relative; height:64px; width:auto; display:grid; place-items:center; }
.logo-mark:before { content:""; position:absolute; inset:-6px; background:radial-gradient(circle at 50% 50%, rgba(147,51,234,.4), transparent 70%); filter:blur(16px); opacity:.6; z-index:-1; }
.logo-mark img { max-height:64px; width:auto; display:block; }
.brand-line-1 { font-family: "Space Grotesk", Inter, sans-serif; font-size: 20px; font-weight: 700; letter-spacing: .2px; background:linear-gradient(90deg,var(--brand) 15%,var(--brand-2) 60%,var(--accent)); -webkit-background-clip:text; background-clip:text; color:transparent; }
.brand-line-1:hover { filter:brightness(1.1); }
.brand-line-2 { color: var(--muted); font-size: 12px; margin-top: -2px; }

.nav-toggle { display: none; background: transparent; border: 1px solid var(--border); color: var(--text); padding: 6px 10px; border-radius: 8px; }
.nav-list { list-style: none; display: flex; gap: 16px; margin: 0; padding: 0; }
.nav a { color: var(--text); text-decoration: none; padding: 8px 10px; border-radius: 8px; }
.nav a:hover, .nav a.active { background: linear-gradient(90deg,rgba(225,29,72,.18),rgba(147,51,234,.18)); }

/* Hero */
.hero { padding: 64px 0 24px; text-align: center; }
.hero h1 { font-family: "Space Grotesk", Inter, sans-serif; font-size: clamp(34px, 5vw, 48px); margin: 0 0 10px; background: linear-gradient(90deg,var(--brand) 10%,var(--brand-2) 55%,var(--accent) 100%); -webkit-background-clip:text; background-clip:text; color:transparent; }
.hero p { color: var(--muted); font-size: 18px; }
.hero-cta { margin-top: 20px; display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }

.btn { background: var(--panel); color: var(--text); border: 1px solid var(--border); padding: 10px 14px; border-radius: 10px; cursor: pointer; }
.btn.primary { background: linear-gradient(90deg, var(--brand), var(--brand-2)); border:none; box-shadow:0 2px 12px -2px rgba(225,29,72,.5); }
.btn.primary:hover { filter: brightness(1.15); box-shadow:0 4px 16px -2px rgba(147,51,234,.55); }
.btn:disabled { opacity: .6; cursor: not-allowed; }
.btn.icon { padding: 0 12px; display: inline-flex; align-items: center; justify-content: center; font-size: 16px; min-width:40px; background: linear-gradient(145deg,#181d26,#12161d); }
.btn.icon:hover { background: linear-gradient(145deg,rgba(225,29,72,.35),rgba(147,51,234,.35)); }
.btn.icon:focus { outline:2px solid var(--brand-2); outline-offset:2px; }
.btn:focus-visible { outline: 2px solid var(--accent); outline-offset:2px; }

/* Sections */
.route { display: none; padding: 24px 0 56px; }
.route.visible { display: block; }

h2 { font-family: "Space Grotesk", Inter, sans-serif; font-size: 28px; margin: 16px 0 12px; position:relative; }
h2:after { content:""; position:absolute; left:0; bottom:-6px; width:56px; height:3px; background: linear-gradient(90deg,var(--brand),var(--brand-2)); border-radius:2px; }

.cards.grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 16px; }
.card { position:relative; border:none; background:linear-gradient(155deg,#141a24,#10141b 65%); border-radius:16px; padding:16px; box-shadow:0 2px 10px -4px rgba(0,0,0,.55),0 0 0 1px rgba(255,255,255,.04); transition:box-shadow .35s, transform .35s; }
.card:before { content:""; position:absolute; inset:0; padding:1px; border-radius:16px; background:linear-gradient(135deg,rgba(225,29,72,.55),rgba(147,51,234,.45) 45%,rgba(56,189,248,.4)); -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0); mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0); -webkit-mask-composite:xor; mask-composite:exclude; opacity:.35; filter:blur(.2px); pointer-events:none; transition:opacity .35s; }
.card:hover { box-shadow:0 6px 24px -6px rgba(0,0,0,.75),0 0 0 1px rgba(225,29,72,.45); transform:translateY(-2px); }
.card:hover:before { opacity:.75; }
.card h3 { margin-top: 0; }
.card .tags { display: flex; flex-wrap: wrap; gap: 6px; }
.tag { font-size: 12px; padding: 4px 8px; border-radius: 999px; background: linear-gradient(90deg,rgba(225,29,72,.15),rgba(147,51,234,.15)); border:1px solid rgba(225,29,72,.35); color:#f1f3f7; }

/* Blog */
.blog-controls { display: flex; gap: 10px; align-items: center; margin: 10px 0 18px; }
.blog-controls input, .blog-controls select { background: var(--panel); color: var(--text); border: 1px solid var(--border); padding: 8px 10px; border-radius: 10px; }
.blog-list { display: grid; gap: 16px; }
.post-item { border:none; background:linear-gradient(155deg,#141a24,#10141b 65%); border-radius:16px; padding:18px 18px 20px; position:relative; box-shadow:0 2px 10px -4px rgba(0,0,0,.55),0 0 0 1px rgba(255,255,255,.04); }
.post-item:before { content:""; position:absolute; inset:0; padding:1px; border-radius:16px; background:linear-gradient(135deg,rgba(147,51,234,.55),rgba(56,189,248,.45)); -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0); mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0); -webkit-mask-composite:xor; mask-composite:exclude; opacity:.32; filter:blur(.2px); transition:opacity .35s; pointer-events:none; }
.post-item:hover:before { opacity:.7; }
.post-item h3 { margin: 0 0 6px; }
.post-meta { color: var(--muted); font-size: 13px; margin-bottom: 10px; }
.post-actions { display: flex; gap: 8px; flex-wrap: wrap; }
.blog-post.hidden { display: none; }
.blog-post { border:none; background:linear-gradient(155deg,#141a24,#10141b 65%); border-radius:16px; padding:18px 18px 20px; position:relative; box-shadow:0 2px 10px -4px rgba(0,0,0,.55),0 0 0 1px rgba(255,255,255,.04); }
.blog-post .back-link { display: inline-block; margin-bottom: 12px; }
.blog-post .content { line-height: 1.7; }
.blog-post .content pre { background: #0b111a; padding: 12px; border-radius: 10px; overflow: auto; }
.blog-post .content code { color: #e5e7eb; }
.blog-post .content a { color: var(--accent); text-decoration:none; border-bottom:1px solid rgba(56,189,248,.4); }
.blog-post .content a:hover { border-color: var(--accent); }

/* Home Blog Teaser */
.home-blog { margin-top: 24px; }
.home-blog .blog-list { display: grid; gap: 12px; }
.home-blog .post-item { background: var(--panel); border: 1px solid var(--border); border-radius: 12px; padding: 12px; }
.home-blog .post-meta { color: var(--muted); font-size: 12px; margin: 6px 0; }

/* Demos */
.demo-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 16px; }
.demo-card { background: var(--panel); border: 1px solid var(--border); border-radius: 14px; padding: 16px; }
.chat-ui { display: flex; flex-direction: column; gap: 10px; }
.chat-log { background: var(--panel-2); border: 1px solid var(--border); border-radius: 12px; min-height: 140px; max-height: 240px; overflow: auto; padding: 10px; }
.msg { display: grid; grid-template-columns: 28px 1fr; gap: 10px; margin-bottom: 10px; }
.msg .avatar { width: 28px; height: 28px; border-radius: 50%; display: grid; place-items: center; background: #1f2632; font-size: 12px; }
.msg .bubble { background: #111827; border: 1px solid var(--border); padding: 10px; border-radius: 12px; backdrop-filter: blur(2px); }
.msg.user .bubble { background: linear-gradient(135deg,rgba(225,29,72,.35),rgba(147,51,234,.35)); border:1px solid rgba(225,29,72,.55); }
.chat-input-row { display: flex; gap: 8px; }
.chat-input-row input { flex: 1; background: var(--panel-2); color: var(--text); border: 1px solid var(--border); padding: 10px; border-radius: 10px; }

.map-mock { margin-top: 10px; background: #0a0f15; border: 1px solid var(--border); border-radius: 12px; padding: 10px; }
.map-placeholder { height: 160px; border: 1px dashed #2b3443; display: grid; place-items: center; color: var(--muted); border-radius: 8px; margin-bottom: 8px; }
#map-layers { margin: 0; padding-left: 18px; color: var(--muted); }

.policy-panel { background: var(--panel-2); border: 1px solid var(--border); border-radius: 12px; padding: 10px; margin-top: 10px; }

/* Forms */
.form-row { display: grid; gap: 6px; margin-bottom: 12px; }
input, textarea { font: inherit; }
input, textarea { border:1px solid #262e39; background:#12171f; transition: border-color .25s, box-shadow .25s; }
input:focus, textarea:focus { border-color: var(--brand-2); box-shadow:0 0 0 2px rgba(147,51,234,.35); }

/* Footer */
.site-footer { border-top:1px solid rgba(147,51,234,.3); padding: 24px 16px; text-align: center; color: var(--muted); }

/* Responsive */
@media (max-width: 820px) {
  .nav-toggle { display: inline-flex; }
  .nav-list { position: fixed; right: 12px; top: 56px; background: var(--panel); border: 1px solid var(--border); padding: 10px; border-radius: 10px; flex-direction: column; display: none; }
  .nav-list.open { display: flex; }
}

::-webkit-scrollbar { width:10px; }
::-webkit-scrollbar-track { background:#0d1218; }
::-webkit-scrollbar-thumb { background: linear-gradient(var(--brand),var(--brand-2)); border-radius:6px; }
::-webkit-scrollbar-thumb:hover { background: linear-gradient(var(--brand-2),var(--accent)); }

/* Section watermark logos */
/* Global watermarks for all sections except home */
.route { position:relative; }
#home:after { content:none; }
.route:not(#home):after { content:none; }
/* New bottom brand banner */
.brand-banner { position:relative; margin-top:clamp(4rem,12vh,9rem); background:linear-gradient(180deg,rgba(0,0,0,0) 0%,rgba(30,18,36,.35) 15%,rgba(22,18,36,.55) 45%,rgba(14,16,24,.85) 100%), radial-gradient(circle at 75% 40%,rgba(147,51,234,.25),transparent 70%), radial-gradient(circle at 20% 60%,rgba(56,189,248,.18),transparent 65%); border-top:1px solid rgba(147,51,234,.3); padding:120px 0 160px; overflow:hidden; }
.brand-banner:after { content:""; position:absolute; bottom:0; right:0; width:420px; height:420px; background:url('cberry_labs_logo.png') center/cover no-repeat; opacity:.17; filter:drop-shadow(0 8px 18px rgba(0,0,0,.7)) blur(.4px); mix-blend-mode:screen; pointer-events:none; transform:translate(12%,12%); }
@media (max-width:900px){ .brand-banner { padding:100px 0 130px; } .brand-banner:after { width:300px; height:300px; transform:translate(18%,18%); } }
@media (max-width:600px){ .brand-banner { padding:80px 0 110px; } .brand-banner:after { width:220px; height:220px; transform:translate(25%,25%); opacity:.22; } }
